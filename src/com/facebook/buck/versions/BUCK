TYPES_SRCS = [
  'AbstractVersion.java',
]

java_immutables_library(
  name = 'types',
  srcs = TYPES_SRCS,
  autodeps = True,
  immutable_types = [
    'Version',
  ],
  visibility = ['PUBLIC'],
)

TRANSLATOR_SRCS = [
  'TargetNodeTranslator.java',
  'TargetTranslatable.java',
  'TargetTranslatorOverridingDescription.java',
]

java_library(
  name = 'translator',
  srcs = TRANSLATOR_SRCS,
  autodeps = True,
  visibility = ['PUBLIC'],
)

java_immutables_library(
  name = 'versions',
  srcs = glob(
    ['*.java'],
    excludes = TYPES_SRCS + TRANSLATOR_SRCS,
  ),
  autodeps = True,
  immutable_types = [
    'Constraints',
    'ExactConstraint',
    'Implication',
    'VersionedAlias',
    'VersionInfo',
    'VersionUniverse',
  ],
  tests = [
    '//test/com/facebook/buck/versions:versions',
  ],
  visibility = ['PUBLIC'],
)
