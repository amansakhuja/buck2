import re

file_name_regex = re.compile(
    "^.*/([^/]+)\.(jar|aar)$",
    re.IGNORECASE,
)

for jar in glob(['*.jar']):
  name = file_name_regex.sub(r'\1', jar)
  prebuilt_jar(
    name = jar,
    binary_jar = jar,
    visibility = ['PUBLIC'],
  )

java_annotation_processor(
    name = 'google_auto_service',
    processor_classes = [
        'com.google.auto.service.processor.AutoServiceProcessor',
    ],
    deps = [
        ':auto-service-1.0-rc4.jar',
        ':auto-common-0.8.jar',
        ':jsr305-1.3.9.jar',
        ':error_prone_annotations-2.0.18.jar',
        ':guava-23.5-jre.jar',
        ':j2objc-annotations-1.1.jar',
        ':checker-qual-2.0.0.jar',
        ':animal-sniffer-annotations-1.14.jar',
    ],
    visibility = ['PUBLIC'],
)
